<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function search(nums, target) {
        let l = 0
        let r = nums.length - 1
        while (l <= r) {
          const mid = (l + r) >> 1
          const n = nums[mid]
          if (n === target) {
            return true
          }

          if (nums[l] === n && nums[r] === n) {
            l++
            r--
          } else if (n >= nums[l]) {
            if (n >= target && target >= nums[l]) {
              r = mid - 1
            } else {
              l = mid + 1
            }
          } else {
            if (target > nums[nums.length - 1] || target < n) {
              r = mid - 1
            } else {
              l = mid + 1
            }
          }
        }

        return false
      }
    </script>
  </body>
</html>
