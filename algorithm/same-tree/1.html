<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function isSameTree(p, q) {
        if (!p || !q) {
          if (p || q) {
            return false
          } else {
            return true
          }
        }
        const stack1 = [p]
        const stack2 = [q]

        while (stack1.length > 0) {
          let i = stack1.length

          while (i--) {
            const node1 = stack1.pop()
            const node2 = stack2.pop()

            if (node1.val !== node2.val) {
              return false
            }

            if (!node1.left || !node2.left) {
              if (node1.left || node2.left) {
                return false
              }
            } else {
              stack1.push(node1.left)
              stack2.push(node2.left)
            }

            if (!node1.right || !node2.right) {
              if (node1.right || node2.right) {
                return false
              }
            } else {
              stack1.push(node1.right)
              stack2.push(node2.right)
            }
          }
        }

        return true
      }
    </script>
  </body>
</html>
